<UserControl x:Class="WMS.Client.Views.CustomerDetailDialog"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             Height="600" Width="900">
    <Grid Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <TextBlock Text="{Binding DetailTitle}" FontSize="20" FontWeight="Bold" Margin="20" HorizontalAlignment="Center"/>

        <TabControl Grid.Row="1" Margin="10" Style="{StaticResource MaterialDesignFilledTabControl}" materialDesign:ColorZoneAssist.Mode="PrimaryMid">
            <TabItem Header="购买记录 (出库)">
                <DataGrid ItemsSource="{Binding DetailOutbounds}" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False" Style="{StaticResource MaterialDesignDataGrid}">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="日期" Binding="{Binding OutboundDate, StringFormat=yyyy-MM-dd}"/>
                        <DataGridTextColumn Header="产品名称" Binding="{Binding ProductName}"/>
                        <DataGridTextColumn Header="单价" Binding="{Binding Price, StringFormat=C2}"/>
                        <DataGridTextColumn Header="数量" Binding="{Binding Quantity}" FontWeight="Bold"/>
                        <DataGridTextColumn Header="总金额" Binding="{Binding TotalAmount, StringFormat=C2}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>
            <TabItem Header="退货记录">
                <DataGrid ItemsSource="{Binding DetailReturns}" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False" Style="{StaticResource MaterialDesignDataGrid}">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="日期" Binding="{Binding ReturnDate, StringFormat=yyyy-MM-dd}"/>
                        <DataGridTextColumn Header="产品名称" Binding="{Binding ProductName}"/>
                        <DataGridTextColumn Header="数量" Binding="{Binding Quantity}" Foreground="Red"/>
                        <DataGridTextColumn Header="退款金额" Binding="{Binding TotalAmount, StringFormat=C2}"/>
                        <DataGridTextColumn Header="原因" Binding="{Binding Reason}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </TabItem>
        </TabControl>
        <Button Grid.Row="2" Command="{x:Static materialDesign:DialogHost.CloseDialogCommand}" Content="关闭" Width="100" Margin="20" Style="{StaticResource MaterialDesignOutlinedButton}"/>
    </Grid>
</UserControl>